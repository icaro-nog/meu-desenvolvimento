jQuery(document).ready(function(s){var e;s(document).on("click",".copy-theme-settings .js-dismiss-notice",function(t){t.preventDefault();s(this).closest(".copy-theme-settings").slideUp("medium").remove();t=s(this).attr("data-base_url");"undefined"!==t&&""!==t&&history.pushState({},"",t)}),s(document).on("click",".customify-mt-tabs-list a",function(t){t.preventDefault();var t=s(this).closest(".customify-mt-tabs"),e=s(this).attr("data-tab-id")||!1;e&&(s(".customify-mt-tab-cont",t).removeClass("active"),s('.customify-mt-tab-cont[data-tab-id="'+e+'"]',t).addClass("active"),s(".customify-mt-tabs-list li",t).removeClass("active"),s(this).closest("li").addClass("active"))}),2<s(".customify-mt-tabs li.customify-mt-tab-cont").length&&s(".customify-mt-tabs li.customify-mt-tab-cont a").css({"font-size":"0"}),wp&&wp.media&&((e={setAttachment:function(t){this.attachment=t},addParamsURL:function(t,e){return s.isEmptyObject(e)||(t+=(0<=t.indexOf("?")?"&":"?")+s.param(e)),t},getThumb:function(t){void 0!==t&&(this.attachment=t);t=(new Date).getTime();return void 0!==this.attachment.sizes&&void 0!==this.attachment.sizes.medium?this.addParamsURL(this.attachment.sizes.medium.url,{t:t}):this.addParamsURL(this.attachment.url,{t:t})},getURL:function(t){void 0!==t&&(this.attachment=t);t=(new Date).getTime();return this.addParamsURL(this.attachment.url,{t:t})},getID:function(t){return void 0!==t&&(this.attachment=t),this.attachment.id},getInputID:function(t){s(".attachment-id",this.preview).val()},setPreview:function(t){this.preview=t},insertImage:function(t){void 0!==t&&(this.attachment=t);var t=this.getURL(),e=this.getID(),i=this.attachment.mime;s(".customify-image-preview",this.preview).addClass("customify--has-file").html('<img src="'+t+'" alt="">'),s(".attachment-url",this.preview).val(this.toRelativeUrl(t)),s(".attachment-mime",this.preview).val(i),s(".attachment-id",this.preview).val(e).trigger("change"),this.preview.addClass("attachment-added"),this.showChangeBtn()},toRelativeUrl:function(t){return t},showChangeBtn:function(){s(".customify--add",this.preview).addClass("customify--hide"),s(".customify--change",this.preview).removeClass("customify--hide"),s(".customify--remove",this.preview).removeClass("customify--hide")},insertVideo:function(t){void 0!==t&&(this.attachment=t);var t=this.getURL(),e=this.getID(),i=this.attachment.mime,a='<video width="100%" height="" controls><source src="'+t+'" type="'+i+'">Your browser does not support the video tag.</video>';s(".customify-image-preview",this.preview).addClass("customify--has-file").html(a),s(".attachment-url",this.preview).val(this.toRelativeUrl(t)),s(".attachment-mime",this.preview).val(i),s(".attachment-id",this.preview).val(e).trigger("change"),this.preview.addClass("attachment-added"),this.showChangeBtn()},insertFile:function(t){void 0!==t&&(this.attachment=t);var t=t.url,e=this.attachment.mime,i=t.replace(/^.*[\\\/]/,"");s(".customify-image-preview",this.preview).addClass("customify--has-file").html('<a href="'+t+'" class="attachment-file" target="_blank">'+i+"</a>"),s(".attachment-url",this.preview).val(this.toRelativeUrl(t)),s(".attachment-mime",this.preview).val(e),s(".attachment-id",this.preview).val(this.getID()).trigger("change"),this.preview.addClass("attachment-added"),this.showChangeBtn()},remove:function(t){void 0!==t&&(this.preview=t),s(".customify-image-preview",this.preview).removeAttr("style").html("").removeClass("customify--has-file"),s(".attachment-url",this.preview).val(""),s(".attachment-mime",this.preview).val(""),s(".attachment-id",this.preview).val("").trigger("change"),this.preview.removeClass("attachment-added"),s(".customify--add",this.preview).removeClass("customify--hide"),s(".customify--change",this.preview).addClass("customify--hide"),s(".customify--remove",this.preview).addClass("customify--hide")}}).controlMediaImage=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1,library:{type:"image"}}),e.controlMediaImage.on("select",function(){var t=e.controlMediaImage.state().get("selection").first().toJSON();e.insertImage(t)}),e.controlMediaVideo=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1,library:{type:"video"}}),e.controlMediaVideo.on("select",function(){var t=e.controlMediaVideo.state().get("selection").first().toJSON();e.insertVideo(t)}),e.controlMediaFile=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1}),e.controlMediaFile.on("select",function(){var t=e.controlMediaFile.state().get("selection").first().toJSON();e.insertFile(t)}),s(".customify-mt-media").on("click",".customify--add",function(t){t.preventDefault();t=s(this).closest(".customify-mt-media");console.log(t),e.setPreview(t),e.controlMediaImage.open()}),s(".customify-mt-media").on("click",".customify--remove",function(t){t.preventDefault();t=s(this).closest(".customify-mt-media");e.remove(t)}))});